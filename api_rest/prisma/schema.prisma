generator client {
  provider = "prisma-client"
  output   = "./generated"
}

datasource db {
  provider = "postgresql"
}

model Usuario {
  id      Int    @id @default(autoincrement())
  usuario String @unique
  senha   String
}

model Enquete {
  id          Int      @id @default(autoincrement())
  title       String
  description String   @default("")
  start_date  DateTime @default(now()) @db.Date
  end_date    DateTime @db.Date
  opcoes      Opcao[]

  @@map("enquetes")
}

model Opcao {
  id         Int     @id @default(autoincrement())
  title      String
  votes      Int     @default(0)
  enquete    Enquete @relation(fields: [enquete_id], references: [id], onDelete: Cascade)
  enquete_id Int

  @@map("choices")
}
